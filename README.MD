# Sales Chatbot Dashboard - AnVie Spa

## üìä Gi·ªõi thi·ªáu

ƒê√¢y l√† d·ª± √°n Dashboard ƒë·ªÉ theo d√µi v√† ph√¢n t√≠ch hi·ªáu su·∫•t ho·∫°t ƒë·ªông c·ªßa h·ªá th·ªëng Chatbot B√°n h√†ng t·ª± ƒë·ªông cho AnVie Spa. Dashboard cung c·∫•p c√°c ch·ªâ s·ªë quan tr·ªçng, danh s√°ch kh√°ch h√†ng v√† chi ti·∫øt c√°c phi√™n t∆∞∆°ng t√°c.

D·ª± √°n bao g·ªìm:
* **Frontend:** Giao di·ªán Dashboard ƒë∆∞·ª£c x√¢y d·ª±ng b·∫±ng Next.js (React) v√† TypeScript, s·ª≠ d·ª•ng Tailwind CSS v√† shadcn/ui cho giao di·ªán ng∆∞·ªùi d√πng.
* **Backend:** API ƒë∆∞·ª£c x√¢y d·ª±ng b·∫±ng FastAPI (Python), k·∫øt n·ªëi v·ªõi Google BigQuery ƒë·ªÉ truy v·∫•n d·ªØ li·ªáu.

---

## ‚ú® T√≠nh nƒÉng ch√≠nh

* **Th·ªëng k√™ t·ªïng quan:**
    * T·ªâ l·ªá t·ª± ƒë·ªông h√≥a trung b√¨nh.
    * S·ªë l∆∞·ª£ng ƒë∆°n h√†ng m·ªõi.
    * Th·ªùi gian ph·∫£n h·ªìi trung b√¨nh c·ªßa kh√°ch h√†ng.
    * Th·ªùi gian ph·∫£n h·ªìi trung b√¨nh c·ªßa Agent.
    * Th·ªùi gian ho√†n th√†nh ƒë∆°n h√†ng trung b√¨nh.
    * S·ªë l∆∞·ª£ng kh√°ch h√†ng m·ªõi v√† kh√°ch h√†ng quay l·∫°i.
* **L·ªçc theo th·ªùi gian:** Xem d·ªØ li·ªáu theo Gi·ªù, Ng√†y, Th√°ng, NƒÉm.
* **Qu·∫£n l√Ω kh√°ch h√†ng:**
    * Xem danh s√°ch t·∫•t c·∫£ kh√°ch h√†ng t∆∞∆°ng t√°c v·ªõi bot.
    * T√¨m ki·∫øm kh√°ch h√†ng theo t√™n, email, s·ªë ƒëi·ªán tho·∫°i.
    * Xem th√¥ng tin chi ti·∫øt c·ªßa t·ª´ng kh√°ch h√†ng (SƒêT, Email, Ch·∫ø ƒë·ªô ƒëi·ªÅu khi·ªÉn).
* **Chi ti·∫øt phi√™n chat:**
    * Xem danh s√°ch c√°c phi√™n chat c·ªßa m·ªôt kh√°ch h√†ng.
    * Xem th·ªëng k√™ chi ti·∫øt cho t·ª´ng kh√°ch h√†ng (s·ªë ƒë∆°n, th·ªùi gian ho√†n th√†nh, th·ªùi gian ph·∫£n h·ªìi, t·ªâ l·ªá t·ª± ƒë·ªông).
    * Xem l·∫°i l·ªãch s·ª≠ tin nh·∫Øn chi ti·∫øt c·ªßa t·ª´ng phi√™n chat.

---

## üõ†Ô∏è C√¥ng ngh·ªá s·ª≠ d·ª•ng

**Frontend (Th∆∞ m·ª•c `dashboard`):**
* [Next.js](https://nextjs.org/) (React Framework)
* [TypeScript](https://www.typescriptlang.org/)
* [Tailwind CSS](https://tailwindcss.com/)
* [shadcn/ui](https://ui.shadcn.com/) (B·ªô s∆∞u t·∫≠p component UI)
* [Lucide React](https://lucide.dev/) (Icons)
* [Recharts](https://recharts.org/) (Th∆∞ vi·ªán bi·ªÉu ƒë·ªì - c√≥ component nh∆∞ng ch∆∞a s·ª≠ d·ª•ng)
* [pnpm](https://pnpm.io/) (Tr√¨nh qu·∫£n l√Ω g√≥i)

**Backend (Th∆∞ m·ª•c `app`):**
* [Python](https://www.python.org/)
* [FastAPI](https://fastapi.tiangolo.com/) (Web framework)
* [Google BigQuery](https://cloud.google.com/bigquery) (C∆° s·ªü d·ªØ li·ªáu)
* `google-cloud-bigquery` (Th∆∞ vi·ªán Python cho BigQuery)
* `python-dotenv` (Qu·∫£n l√Ω bi·∫øn m√¥i tr∆∞·ªùng)
* `uvicorn` (ASGI server)
* `Rich` (Logging ƒë·∫πp m·∫Øt)
* `Pydantic` (Validation d·ªØ li·ªáu)

---

## üöÄ C√†i ƒë·∫∑t v√† Ch·∫°y d·ª± √°n

### Backend (FastAPI)

1.  **Clone Repository:** (N·∫øu ch∆∞a c√≥)
    ```bash
    git clone <your-repository-url>
    cd <your-repository-directory>
    ```
2.  **T·∫°o m√¥i tr∆∞·ªùng ·∫£o:** (Khuy·∫øn ngh·ªã)
    ```bash
    python -m venv venv
    source venv/bin/activate # Linux/macOS
    # ho·∫∑c
    .\venv\Scripts\activate # Windows
    ```
3.  **C√†i ƒë·∫∑t Dependencies:** (Gi·∫£ s·ª≠ b·∫°n c√≥ file `requirements.txt`)
    ```bash
    pip install -r requirements.txt
    ```
4.  **C·∫•u h√¨nh Google Cloud Credentials:**
    * ƒê·∫∑t file JSON key c·ªßa Google Cloud Service Account v√†o th∆∞ m·ª•c `app/auth/` v√† ƒë·∫£m b·∫£o t√™n file l√† `bigquerry_auth.json`.
    * **Quan tr·ªçng:** ƒê·∫£m b·∫£o Service Account c√≥ quy·ªÅn truy c·∫≠p (√≠t nh·∫•t l√† `BigQuery Data Viewer` v√† `BigQuery Job User`) v√†o project `first-project-450716` tr√™n Google Cloud.
5.  **C·∫•u h√¨nh Bi·∫øn M√¥i tr∆∞·ªùng:**
    * T·∫°o file `.env` trong th∆∞ m·ª•c g·ªëc c·ªßa backend (ngang h√†ng v·ªõi `app`).
    * Th√™m c√°c bi·∫øn sau v√†o file `.env`:
        ```dotenv
        GCP_PROJECT_ID="first-project-450716"
        GCP_AUTH_PATH="app/auth/bigquerry_auth.json"
        ```
        *(ƒêi·ªÅu ch·ªânh `GCP_PROJECT_ID` n·∫øu c·∫ßn)*
6.  **Ch·∫°y Backend Server:**
    ```bash
    uvicorn app.main:app --reload --host 0.0.0.0 --port 8000
    ```
    API s·∫Ω ch·∫°y t·∫°i `http://localhost:8000`.

### Frontend (Next.js)

1.  **ƒêi·ªÅu h∆∞·ªõng ƒë·∫øn th∆∞ m·ª•c Frontend:**
    ```bash
    cd dashboard
    ```
2.  **C√†i ƒë·∫∑t Dependencies:**
    ```bash
    pnpm install
    ```
    *(L·ªánh n√†y ƒë·ªçc file `pnpm-lock.yaml` v√† c√†i ƒë·∫∑t c√°c g√≥i c·∫ßn thi·∫øt)*
3.  **C·∫•u h√¨nh Bi·∫øn M√¥i tr∆∞·ªùng:**
    * T·∫°o file `.env.local` trong th∆∞ m·ª•c `dashboard`.
    * Th√™m URL c·ªßa backend API v√†o file:
        ```dotenv
        NEXT_PUBLIC_API_BASE_URL=http://localhost:8000
        ```
        *(Thay ƒë·ªïi URL n·∫øu backend c·ªßa b·∫°n ch·∫°y ·ªü ƒë·ªãa ch·ªâ kh√°c, v√≠ d·ª•: `https://gjkpcr5d-8000.asse.devtunnels.ms` nh∆∞ trong file b·∫°n ƒë√£ cung c·∫•p)*
4.  **Ch·∫°y Frontend Development Server:**
    ```bash
    pnpm dev
    ```
   
5.  **Truy c·∫≠p Dashboard:** M·ªü tr√¨nh duy·ªát v√† truy c·∫≠p `http://localhost:3000`.

---

## ‚öôÔ∏è C·∫•u h√¨nh

* **Backend:**
    * `GCP_PROJECT_ID`: ID c·ªßa Google Cloud Project ch·ª©a d·ªØ li·ªáu BigQuery.
    * `GCP_AUTH_PATH`: ƒê∆∞·ªùng d·∫´n ƒë·∫øn file JSON key c·ªßa Service Account.
* **Frontend:**
    * `NEXT_PUBLIC_API_BASE_URL`: URL ƒë·∫ßy ƒë·ªß c·ªßa Backend API.

---

## üìÇ C·∫•u tr√∫c th∆∞ m·ª•c (T·ªïng quan)